<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cafeteria Nascimento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #FAFAFA; display: flex; flex-direction: column; min-height: 100vh;}
        h1, h2, h3 { font-family: 'Dancing Script', cursive; color: #9370DB; }
        nav { z-index: 1030; }
        .hero { background: linear-gradient(135deg, #9370DB 0%, #E6E6FA 100%); color: white; padding: 100px 0; border-bottom: 5px solid #DAA520; }
        .hero h1 { color: white; }
        .btn-gold { background-color: #DAA520; color: white; border-radius: 50px; padding: 10px 30px; font-weight: bold; border: none; transition: 0.3s; }
        .btn-gold:hover { transform: scale(1.05); color: white; box-shadow: 0 5px 15px rgba(218, 165, 32, 0.4); }
        .card-custom { border: none; border-radius: 15px; background: white; box-shadow: 0 5px 20px rgba(147, 112, 219, 0.1); transition: transform 0.3s; }
        .card-custom:hover { transform: translateY(-5px); border-bottom: 3px solid #DAA520; }
    </style>
</head>
<body>
    <div th:replace="~{fragments/nav :: navbar}"></div>

    <header class="hero text-center">
        <div class="container">
            <h1 class="display-3 mb-3">Bem-vindo(a) √† Cafeteria Nascimento</h1>
            <p class="lead fs-4">Caf√©s especiais, donuts artesanais e ambiente acolhedor ‚ú®</p>
            <a href="/produtos" class="btn btn-gold btn-lg mt-4">Ver Card√°pio Completo</a>
        </div>
    </header>

    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5" style="font-size: 2.5rem;">‚≠ê Destaques da Casa</h2>
            <div class="row row-cols-1 row-cols-md-4 g-4">
                <div class="col" th:each="prod : ${destaques}">
                    <div class="card card-custom h-100 p-3 text-center">
                        <img th:src="${prod.imagem != null && !prod.imagem.isEmpty()} ? ${prod.imagem} : 'https://via.placeholder.com/150?text=Sem+Foto'" 
                             class="card-img-top rounded-3 mb-2" style="height: 180px; object-fit: cover;" 
                             onerror="this.src='https://via.placeholder.com/150?text=Erro'">
                        
                        <div class="card-body d-flex flex-column p-0">
                            <span class="badge bg-warning text-white align-self-center mb-2" th:text="${prod.categoria != null ? prod.categoria.nome : 'Destaque'}"></span>
                            <h5 class="card-title" th:text="${prod.nome}" style="color: #6A5ACD;"></h5>
                            <p class="text-muted small flex-grow-1" th:text="${prod.descricao}"></p>
                            <h4 class="fw-bold my-3" style="color: #DAA520;">R$ <span th:text="${#numbers.formatDecimal(prod.preco, 1, 2, 'COMMA')}"></span></h4>
                            <form action="/carrinho/adicionar" method="post">
                                <input type="hidden" name="produtoId" th:value="${prod.id}">
                                <input type="hidden" name="quantidade" value="1">
                                <button class="btn btn-gold w-100 btn-sm">Adicionar üõí</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>